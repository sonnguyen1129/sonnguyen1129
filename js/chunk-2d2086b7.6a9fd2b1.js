(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("b-row",[n("b-col",{attrs:{offset:"4",xl:"4"}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:e.onReset}},[n("b-form-group",{attrs:{label:"Username:","label-cols-xl":"2"}},[n("b-form-input",{attrs:{required:""},model:{value:e.userInput.username,callback:function(t){e.$set(e.userInput,"username",t)},expression:"userInput.username"}})],1),n("b-form-group",{attrs:{label:"Password:","label-cols-xl":"2"}},[n("b-form-input",{attrs:{required:"",type:"password"},model:{value:e.userInput.password,callback:function(t){e.$set(e.userInput,"password",t)},expression:"userInput.password"}})],1),e.loginFailMsg?n("span",{staticStyle:{color:"red"}},[e._v("Invalid username or password")]):e._e(),n("br"),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1)],1)],1)},a=[],s=n("d225"),u=n("b0b4"),o=n("308d"),i=n("6bb5"),l=n("4e2b"),c=n("9ab4"),b=n("60a3"),p=n("7873"),d=n("d334"),f=n("e377"),m=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.userInput=new p["a"],e.loginFailMsg=!1,e.isAdmin=!1,e}return Object(l["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){}},{key:"onSubmit",value:function(){var e=this;d["a"].login(this.userInput).then((function(t){200===t.status&&(e.loginFailMsg=!1,e.redirectPage())})).catch((function(t){e.loginFailMsg=!0}))}},{key:"redirectPage",value:function(){var e=this;this.getCurrentUser().then((function(){e.isAdmin?e.$router.push("admin-home"):e.$router.push("home")}))}},{key:"getCurrentUser",value:function(){var e=this;return new Promise((function(t,n){var r=localStorage.getItem("userId")?localStorage.getItem("userId"):"";f["a"].getUserById(r).then((function(t){"USER"===t.data.role?e.isAdmin=!1:e.isAdmin=!0})).finally((function(){return t(!0)}))}))}},{key:"onReset",value:function(){this.loginFailMsg=!1}}]),t}(b["c"]);m=Object(c["a"])([Object(b["a"])({components:{}})],m);var g=m,v=g,h=n("2877"),w=Object(h["a"])(v,r,a,!1,null,"e7a34ff0",null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.6a9fd2b1.js.map